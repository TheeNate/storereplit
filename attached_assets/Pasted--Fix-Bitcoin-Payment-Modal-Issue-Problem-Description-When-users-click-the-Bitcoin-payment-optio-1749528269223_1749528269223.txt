# Fix Bitcoin Payment Modal Issue

## Problem Description
When users click the Bitcoin payment option in the payment method selector, the Bitcoin payment modal disappears instead of showing up. The issue is in the `client/src/pages/design-detail.tsx` file.

## Root Cause
The Bitcoin payment modal has a render condition that requires `form.formState.isValid` to be true:
```tsx
{paymentMethod === 'bitcoin' && showBitcoinPayment && form.formState.isValid && (
```

However, when users select Bitcoin from the PaymentMethodSelector, the form hasn't been validated yet, so `form.formState.isValid` is false, preventing the modal from appearing.

## Fix Required
Please make the following changes to `client/src/pages/design-detail.tsx`:

### Step 1: Update the handlePaymentMethodSelect function
Change this function to NOT immediately show the Bitcoin payment modal:

```tsx
const handlePaymentMethodSelect = (method: 'stripe' | 'bitcoin') => {
  setPaymentMethod(method);
  if (method === 'bitcoin') {
    // Don't set showBitcoinPayment to true here
    setClientSecret(""); // Clear Stripe data
  } else {
    setShowBitcoinPayment(false);
    // Form submission will trigger Stripe payment intent creation
  }
};
```

### Step 2: Update the Bitcoin Payment button render condition
Find the Bitcoin Payment button (around line with `PAY WITH BITCOIN`) and make sure it shows when bitcoin is selected but showBitcoinPayment is false:

```tsx
{paymentMethod === 'bitcoin' && !showBitcoinPayment && (
  <Button
    type="button"
    onClick={async () => {
      const isValid = await form.trigger();
      if (isValid) {
        setShowBitcoinPayment(true);
      }
    }}
    // ... rest of button props
  >
    <Bitcoin className="mr-2" size={20} />
    PAY WITH BITCOIN - ${selectedSize ? parseFloat(selectedSize.price).toFixed(0) : "0"}
  </Button>
)}
```

### Step 3: Update the modal render condition
Change the Bitcoin Payment Form modal condition to remove the `form.formState.isValid` requirement:

```tsx
{paymentMethod === 'bitcoin' && showBitcoinPayment && (
  <div className="fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4">
    <div className="max-w-md w-full">
      <BitcoinPaymentForm
        // ... existing props
      />
    </div>
  </div>
)}
```

## Expected Behavior After Fix
1. User selects Bitcoin payment method → Bitcoin payment button appears
2. User clicks "PAY WITH BITCOIN" button → Form validates → Bitcoin modal opens
3. User can complete Bitcoin payment or cancel back to payment method selection

## Files to Modify
- `client/src/pages/design-detail.tsx`

Please implement these changes to fix the Bitcoin payment modal issue.